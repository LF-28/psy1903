getwd()
# Generate dataset reproducibly
set.seed(1903)
subject_id <- 1:40
rt <- round(rnorm(40, mean = 520, sd = 120))
rt[sample(1:40, 2)] <- NA
congruent <- sample(c(TRUE, FALSE), 40, replace = TRUE)
condition <- sample(c("control", "incongruent"), 40, replace = TRUE)
experiment_data <- data.frame(subject_id, rt, congruent, condition)
# Save for reuse in later tasks
saveRDS(experiment_data, file = "data/raw/experiment_data.rds")
rm(list = ls())
## Load the saved dataset
experiment_data <- readRDS("../data/raw/experiment_data.rds")
## Take a quick look at the first few rows
head(experiment_data)
## Check the structure of the dataset
str(experiment_data)
## Generate one or more random numbers between min and max (defaults: one number between 1â€“10)
getRandomNumber <- function(min = 1, max = 10, number = 1) {
sample(min:max, number)
}
View(experiment_data)
## Classify reaction times into "Fast", "Slow", or "Unknown" (default threshold = 500ms)
experiment_data$rt_category_vector <- NA
experiment_data$rt_category_vector <- ifelse(
is.na(experiment_data$rt), "Unknown",              # If RT is missing
ifelse(experiment_data$rt < 500, "Fast", "Slow")   # Otherwise, check Fast vs Slow
)
experiment_data$rt_category_vector <- NULL
experiment_data
## Classify reaction times into "Fast", "Slow", or "Unknown" (default threshold = 500ms)
experiment_data$rt_category_vector <- NA
classify_rt <- function(rt, threshold = 500) {
ifelse(
is.na(rt), "Unknown",              # If RT is missing
ifelse(experiment_data$rt < threshold, "Fast", "Slow")   # Otherwise, check Fast vs Slow
)
}
experiment_data$rt_category_vector<- classify_rt(experimental_data$rt, 500)
## Classify reaction times into "Fast", "Slow", or "Unknown" (default threshold = 500ms)
experiment_data$rt_category_vector <- NA
classify_rt <- function(rt, threshold = 500) {
ifelse(
is.na(rt), "Unknown",              # If RT is missing
ifelse(experiment_data$rt < threshold, "Fast", "Slow")   # Otherwise, check Fast vs Slow
)
}
experiment_data$rt_category_vector<- classify_rt(experiment_data$rt, 500)
## Classify reaction times into "Fast", "Slow", or "Unknown" (default threshold = 500ms)
experiment_data$rt_category_vector <- NA
classify_rt <- function(rt, threshold = 500) {
ifelse(
is.na(rt), "Unknown",              # If RT is missing
ifelse(rt < threshold, "Fast", "Slow")   # Otherwise, check Fast vs Slow
)
}
experiment_data$rt_category_vector<- classify_rt(experiment_data$rt, 500)
## Classify reaction times into "Fast", "Slow", or "Unknown" (default threshold = 500ms)
experiment_data$rt_category_vector <- NA
classify_rt <- function(rt, threshold = 500) {
if (!is.numeric(rt)) {
stop("Error:'rt' must be numeric.")
}
if (!is.numeric(threshold) || length(threshold) != 1) {
stop("Error: 'threshold' must be a single numeric value.")
}
ifelse(
is.na(rt), "Unknown",              # If RT is missing
ifelse(rt < threshold, "Fast", "Slow")   # Otherwise, check Fast vs Slow
)
}
experiment_data$rt_category_vector<- classify_rt(experiment_data$rt, 500)
experiment_data$rt_category_vector <- NULL
experiment_data
## Classify reaction times into "Fast", "Slow", or "Unknown" (default threshold = 500ms)
experiment_data$rt_category_vector <- NA
classify_rt <- function(rt, threshold = 500) {
if (!is.numeric(rt)) {
stop("Error:'rt' must be numeric.")
}
if (!is.numeric(threshold) || length(threshold) != 1) {
stop("Error: 'threshold' must be a single numeric value.")
}
ifelse(
is.na(rt), "Unknown",              # If RT is missing
ifelse(rt < threshold, "Fast", "Slow")   # Otherwise, check Fast vs Slow
)
}
experiment_data$rt_category_vector<- classify_rt(experiment_data$rt, 500)
experiment_data$age <- NA
for (i in 1:nrow(experiment_data)) {
experiment_data$age<- getRandomNumber(18, 65)
}
for (i in 1:nrow(experiment_data)) {
experiment_data$age<- getRandomNumber(18,65, nrow)
}
for (i in 1:nrow(experiment_data)) {
experiment_data[i, "age"]<- getRandomNumber(18,65, 1)
}
for (i in 1:nrow(experiment_data)) {
experiment_data[i, "age"]<- getRandomNumber(18,65, 1)
}
head(experiment_data)
experiment_data$age <- apply(experiment_data[,"age"], 2, replace = TRUE, sample(18:65,nrow(expriment_data)))
experiment_data$age <-sample(18:65, replace = TRUE, nrow(expriment_data))
experiment_data$age <-sample(18:65, replace = TRUE, nrow(expirment_data))
experiment_data$age <-sample(18:65, replace = TRUE, nrow(expiriment_data))
experiment_data$age <-sample(18:65, replace = TRUE, nrow(experiment_data))
experiment_data$age <-sample(18:65, replace = TRUE, nrow(experiment_data))
head(experiment_data)
experiment_data$rt_category_loop <- NA
for (i in 1:nrow(experiment_data)) {
experiment_data[i, "rt_category_loop"]<- classify_rt(experiment_data$rt, 500)
}
experiment_data$rt_category_loop <- NA
for (i in 1:nrow(experiment_data)) {
experiment_data$rt_category_loop<- classify_rt(experiment_data[i, "rt"], 500)
}
experiment_data$rt_category_loop <- NA
for (i in 1:nrow(experiment_data)) {
experiment_data[i, "rt_category_loop"] <- classify_rt(experiment_data[i, "rt"], 500) ##a loop using classify function to categorize rt as fast, slow, or unknown
}
experiment_data$rt_category_vec <- classify_rt(experiment_data$rt, threshold = 500)
table(loop = experiment_data$rt_category_loop,
vec  = experiment_data$rt_category_vec,
useNA = "ifany")
## Create Buggy Function
threshold <- 500
flag_fast <- function(rt_vector) {
rt_vector < threshold
}
flag_fast(experiment_data$rt)
rm(threshold)
flag_fast(experiment_data$rt)
## Create Buggy Function
flag_fast <- function(rt_vector) {
threshold <- 500
rt_vector < threshold
}
flag_fast(experiment_data$rt)
rm(threshold)
flag_fast(experiment_data$rt)
Mean for control: 511
subject_means <- tapply(experiment_data$rt,
experiment_data$condition,
mean)
print(paste("Mean for control:", subject_means["control"]))
print(paste("Mean for incongruent:", subject_means["incongruent"]))
# How many NAs overall?
sum(is.na(experiment_data$rt))
# How many NAs by condition?
tapply(is.na(experiment_data$rt), experiment_data$condition, sum)
# Optional: quick sanity checks
summary(experiment_data$rt)
with(experiment_data, table(condition, is.na(rt)))
subject_means <- tapply(experiment_data$rt,
experiment_data$condition,
function(x) mean(x, na.rm = TRUE)
print(paste("Mean for control:", subject_means["control"]))
subject_means <- tapply(experiment_data$rt,
experiment_data$condition,
function(x) mean(x, na.rm = TRUE)) #fixing the handling of missing values
print(paste("Mean for control:", subject_means["control"]))
print(paste("Mean for incongruent:", subject_means["incongruent"]))
subject_means <- tapply(experiment_data$rt,
experiment_data$condition,
na.rm = TRUE) #fixing the handling of missing values
print(paste("Mean for control:", subject_means["control"]))
print(paste("Mean for incongruent:", subject_means["incongruent"]))
subject_means <- tapply(experiment_data$rt,
experiment_data$condition,
mean,
na.rm = TRUE) #fixing the handling of missing values
print(paste("Mean for control:", subject_means["control"]))
print(paste("Mean for incongruent:", subject_means["incongruent"]))
write.csv(experiment_data, "../data/cleaned/experiment_data.csv", row.names = FALSE) #saving as a csv file
saveRDS(experiment_data, "../data/cleaned/experiment_data.csv", row.names = FALSE) #saving as a RDS file
write.csv(experiment_data, "../data/cleaned/experiment_data.csv", row.names = FALSE) #saving as a csv file
saveRDS(experiment_data, "../data/cleaned/experiment_data.csv") #saving as a RDS file
write.csv(experiment_data, "../data/cleaned/experiment_data.csv", row.names = FALSE) #saving as a csv file
saveRDS(experiment_data, "../data/cleaned/experiment_data.rds") #saving as a RDS file
save(experiment_data, subject_means, file = "../data/cleaned/objects.RData")
save(experiment_data, subject_means, file = "../data/cleaned/objects.RData")
(rm(list = ls))
save(experiment_data, subject_means, file = "../data/cleaned/objects.RData") #save subject_means and data together
## Clear the environment
rm(list = ls())
save(experiment_data, subject_means, file = "../data/cleaned/objects.RData") #save subject_means and data together
save(experiment_data, subject_means, file = "../data/cleaned/objects.RData") #save subject_means and data together
load("data/cleaned/objects.RData")
load("objects.RData")
load("../data/cleaned/objects.RData")
View(experiment_data)
experiment_data$rt_category_loop <- NA
experiment_data$rt_category_loop <- NA
for (i in 1:nrow(experiment_data)) {
experiment_data[i, "rt_category_loop"] <- classify_rt(experiment_data$rt, threshold = 500)
}
## Load the saved dataset
experiment_data <- readRDS("../data/raw/experiment_data.rds")
## Take a quick look at the first few rows
head(experiment_data)
## Check the structure of the dataset
str(experiment_data)
## Generate one or more random numbers between min and max (defaults: one number between 1â€“10)
getRandomNumber <- function(min = 1, max = 10, number = 1) {
sample(min:max, number)
}
experiment_data$rt_category_vector <- NULL
experiment_data
## Classify reaction times into "Fast", "Slow", or "Unknown" (default threshold = 500ms)
experiment_data$rt_category_vector <- NA
classify_rt <- function(rt, threshold = 500) {
if (!is.numeric(rt)) {
stop("Error:'rt' must be numeric.")
}
if (!is.numeric(threshold) || length(threshold) != 1) {
stop("Error: 'threshold' must be a single numeric value.")
}
ifelse(
is.na(rt), "Unknown",              # If RT is missing
ifelse(rt < threshold, "Fast", "Slow")   # Otherwise, check Fast vs Slow
)
}
experiment_data$rt_category_vector<- classify_rt(experiment_data$rt, 500)
experiment_data$rt_category_loop <- NA
for (i in 1:nrow(experiment_data)) {
experiment_data[i, "rt_category_loop"] <- classify_rt(experiment_data$rt, threshold = 500)
}
experiment_data$rt_category_loop <- NA
for (i in 1:nrow(experiment_data)) {
experiment_data[i, "rt_category_loop"] <- classify_rt(experiment_data[i, "rt"], threshold = 500)
}
experiment_data$rt_category_vec <- classify_rt(experiment_data$rt, threshold = 500)
